---
import ExternalLink from "./icons/ExternalLink.astro";
interface Project {
  title: string;
  image: string;
  url: string;
}

const PROJECTS_DATA: Project[] = [
  {
    title: "Portfolio",
    image: "/projects/portfolio.webp",
    url: "https://test.com",
  },
];
---

<div class="grid auto-rows-[192px] grid-cols-2 md:grid-cols-3 gap-4">
  {
    [...PROJECTS_DATA].slice(0, 8).map((project, i) => (
      <div
        class={`row-span-1 rounded-xl border-2 border-slate-400/10 bg-neutral-100 dark:bg-neutral-900 overflow-hidden
          ${i === 2 ? "md:row-span-2" : ""}
           ${i === 3 || i === 6 || i === 5 ? "md:col-span-2" : ""}`}
      >
        <a
          href={project.url}
          target="_blank"
          rel="noopener noreferrer"
          class="group/container relative"
        >
          <div class="flex flex-col h-full">
            <div class="absolute bg-gradient-to-t translate-y-[70%] group-hover/container:translate-y-[30%] from-black via-black/70 to-transparent inset-0 transition ease-in duration-100" />
            <img
              src={project.image}
              alt={project.title}
              class="object-cover w-full h-full rounded-xl"
            />
            <div class="absolute bottom-3 left-3 flex items-center">
              <h3 class="text-xl font-semibold text-neutral-100 group-hover/container:visible invisible">
                {project.title}
              </h3>
              <ExternalLink class="ml-2 mt-1 w-4 h-4 text-neutral-100 group-hover/container:visible invisible" />
            </div>
          </div>
        </a>
      </div>
    ))
  }
</div>
<div class="flex justify-center w-full py-5">
  {
    PROJECTS_DATA.length > 8 && (
      <a
        class="bg-greenPrimary h-fit py-2 px-5 w-[40%] rounded-md text-center text-black font-semibold hover:bg-greenPrimary/90 transition ease-in duration-100"
        href="/projects"
      >
        View all projects
      </a>
    )
  }
</div>
